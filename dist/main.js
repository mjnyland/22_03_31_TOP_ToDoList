(()=>{"use strict";const e=(e,t)=>({getName:()=>e,getTodos:()=>t,addTodo:e=>t.push(e)});function t(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function o(e,t,o){const n=document.createElement(e,t);return t&&n.classList.add(t),o&&(n.textContent=o),n}function n(e,t,n,d){const c=o("DIV","todo"),l=o("INPUT","todo-checkbox");l.type="checkbox";const a=o("H3","todo-title",t),r=o("H4","todo-date",n),i=o("P","todo-descrip",d),u=o("HR","todo-hr"),s=o("H5","edit-todo-link","Edit todo");c.append(l,a,r,i,s,u),e.append(c)}function d(e,t){e.style.display=t}const c=(()=>{const c=document.querySelector(".new-project-button"),l=document.querySelector(".new-project-form"),a=document.querySelector(".add-project-button"),r=document.querySelector(".projects-cont"),i=document.querySelector(".project-heading"),u=document.querySelector(".new-todo-button"),s=document.querySelector(".add-todo-button"),m=document.querySelector(".new-todo-form"),g=document.querySelector(".todo-cont"),h=document.querySelector(".edit-todo-form"),p=[e("Inbox",[])];return p[0].DOMElement=r.children[0],p[0].DOMElement.classList.add("active"),{handleProjectChangeRequest:function(){document.addEventListener("click",(e=>{if("project"===e.target.classList[0]){document.querySelector(".active").classList.remove("active");const o=e.target;o.classList.add("active"),p.forEach((e=>{e.DOMElement===o&&(i.textContent=e.getName(),t(g),e.getTodos().forEach((e=>{n(g,e.getTitle(),e.getDescrip(),e.getDueDate(),e.getPriority())})))}))}}))},handleNewProjectRequest:function(){c.addEventListener("click",(e=>{d(l,"block")}))},handleAddProjectRequest:function(){a.addEventListener("click",(t=>{let n=document.getElementById("project-name");if(""===n.value)alert("Project must have a name");else{const t=e(n.value,[]),i=function(e){const t=o("DIV","project"),n=o("H3","project-label",e);return t.append(n),t.classList.add(e),t}(t.getName());t.DOMElement=i,c=r,a=t.DOMElement,c.append(a),n.value="",d(l,"none"),p.push(t)}var c,a}))},handleNewTodoRequest:function(){u.addEventListener("click",(e=>{d(m,"block")}))},handleAddTodoRequest:function(){s.addEventListener("click",(e=>{const t=document.getElementById("todo-title");if(""===t.value)alert("todo must have a title");else{const e=document.getElementById("todo-descrip"),r=document.getElementById("todo-date"),i=(o=t.value,c=e.value,l=r.value,a="1",{getTitle:()=>o,editTitle:e=>o=e,getDescrip:()=>c,editDescrip:e=>c=e,getDueDate:()=>l,editDueDate:e=>l=e,getPriority:()=>a,editPriority:e=>a=e});n(g,i.getTitle(),i.getDescrip(),i.getDueDate(),i.getPriority()),i.DOMElement=g.lastChild,d(m,"none");const u=document.querySelector(".active");p.forEach((e=>{e.DOMElement===u&&e.addTodo(i)}))}var o,c,l,a})),m.style.display="none"},handleEditTodoRequest:function(){document.addEventListener("click",(e=>{if("edit-todo-link"===e.target.className){const o=e.target.parentNode;t(o),o.append(h),d(h,"block");const n=document.querySelector(".active");p.forEach((e=>{n===e.DOMElement&&(console.log(e),e.getTodos().forEach((e=>{console.log(e.getTitle()),o===e.DOMElement&&(h.children[2].value=e.getTitle(),h.children[6].value=e.getDescrip(),h.children[11].value=e.getDueDate())})))}))}}))},handleUpdateTodoRequest:function(){document.addEventListener("click",(e=>{if("update-todo-button"===e.target.className){d(h,"none");const t=e.target.parentNode.parentNode;console.log(t);const n=e.target.parentNode,c=document.querySelector(".active");p.forEach((e=>{c===e.DOMElement&&e.getTodos().forEach((e=>{console.log(e.DOMElement),t===e.DOMElement?(e.editTitle(n.children[2].value),e.editDescrip(n.children[6].value),e.editDueDate(n.children[11].value),function(e,t,n,d){console.log("Updating todo");const c=o("INPUT","todo-checkbox");c.type="checkbox";const l=o("H3","todo-title",t),a=o("H4","todo-date",n),r=o("P","todo-descrip",d),i=o("HR","todo-hr"),u=o("H5","edit-todo-link","Edit todo");e.append(c,l,a,r,u,i)}(t,e.getTitle(),e.getDescrip(),e.getDueDate(),e.getPriority())):console.log("could not find a matching todo")}))}))}}))}}})();c.handleProjectChangeRequest(),c.handleNewProjectRequest(),c.handleAddProjectRequest(),c.handleNewTodoRequest(),c.handleAddTodoRequest(),c.handleEditTodoRequest(),c.handleUpdateTodoRequest()})();
//# sourceMappingURL=main.js.map