(()=>{"use strict";const t=(t,e)=>({addTodo:function(t,o,d,n){const c={id:e.length>0?e[e.length-1].id+1:1,title:t,descrip:o,date:d,priority:n,complete:!1};e.push(c)},editTodo:function(t,o,d,n,c){e=e.map((e=>e.id===t?(e.id=t,e.title=o,e.descrip=d,e.date=n,e.priority=c,e):e))},getTodos:function(){return e},deleteTodo:function(t){e=e.filter((e=>e.id!==t))},toggleTodo:function(t){e=e.map((e=>{e.id===t&&(e.complete=!e.complete)}))},todos:e,name:t});function e(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function o(t,e,o){const d=document.createElement(t,e);return e&&d.classList.add(e),o&&(d.textContent=o),d}function d(t){const e=document.querySelector(".todos-cont");t.getTodos().forEach((t=>{!function(t,e,d,n,c){const i=o("DIV","todo");i.classList.add(e);const r=o("DIV","todo-info-cont"),l=o("INPUT","todo-checkbox");l.type="checkbox";const s=o("H3","todo-title",d),a=o("H4","todo-date",n),u=o("P","todo-descrip",c),p=o("H5","edit-todo-link","Edit todo");r.append(l,s,a,u,p);const h=o("DIV","todo-edit-form-cont"),m=o("INPUT","edit-title-input");m.id="edit-todo-title",m.setAttribute("type","text");const f=o("LABEL","edit-title-label");f.htmlFor="edit-todo-title",f.textContent="Title:";const v=o("INPUT","edit-descrip-input");v.id="edit-todo-descrip",v.setAttribute("type","text");const q=o("LABEL","edit-descrip-label");q.htmlFor="edit-todo-description",q.textContent="Description:";const y=o("INPUT","edit-date-input");y.id="edit-todo-date",y.setAttribute("type","text");const L=o("LABEL","edit-date-label");L.htmlFor="edit-todo-date",L.textContent="Date:";const T=o("BUTTON","edit-todo-form-button","Update Todo");h.append(f,m,q,v,L,y,T);const g=o("HR","todo-hr");i.append(r,h,g),t.append(i)}(e,t.id,t.title,t.date,t.descrip)}))}function n(t,e){t.style.display=e}const c=(()=>{const c=document.querySelector(".new-project-button"),i=document.querySelector(".new-project-form"),r=document.querySelector(".add-project-button"),l=document.querySelector(".projects-cont"),s=document.querySelector(".todos-cont"),a=document.querySelector(".new-todo-button"),u=document.querySelector(".new-todo-form"),p=(document.querySelector(".todo-edit-form"),[t("Inbox",[])]);return l.children[0].classList.add("0"),l.children[0].classList.add("active"),p[0].id=0,{findMatchProj:function(t){const e=parseInt(t);for(const t of p)if(t.id===e)return t},handleNewProjectRequest:function(){c.addEventListener("click",(t=>{n(i,"block")}))},handleAddProjectRequest:function(){r.addEventListener("click",(e=>{let d=document.getElementById("project-name");if(""===d.value)alert("Project must have a name");else{const e=t(d.value,[]);p.push(e),e.id=p.length-1,n(i,"none"),function(t,e){const d=document.querySelector(".projects-cont"),n=o("DIV","project"),c=o("H3","project-label",t);n.classList.add(e),n.append(c),d.append(n)}(d.value,p.length-1)}}))},handleProjectChangeRequest:function(){const t=document.querySelector(".project-heading");document.addEventListener("click",(o=>{if("project"===o.target.classList[0]){n=document.querySelector(".active"),c=o.target,n.classList.remove("active"),c.classList.add("active");const i=this.findMatchProj(o.target.classList[1]);t.textContent=i.name,e(s),d(i)}var n,c}))},handleNewTodoRequest:function(){a.addEventListener("click",(t=>{n(u,"block")}))},handleAddTodoRequest:function(t){document.querySelector(".add-todo-button").addEventListener("click",(t=>{n(u,"none");const o=document.getElementById("todo-title").value,c=document.getElementById("todo-descrip").value,i=document.getElementById("todo-date").value,r=document.querySelector(".active"),l=this.findMatchProj(r.classList[1]);l.addTodo(o,c,i,1),console.log(l.todos),e(s),d(l),function(t){for(const e of t.children)"INPUT"===e.nodeName&&(e.value="")}(u)}))},handleEditTodoRequest:function(){document.addEventListener("click",(t=>{if("edit-todo-link"===t.target.className){const d=t.target.parentNode,c=d.parentNode.children[1];o=d,(e=c).children[1].value=o.children[1].textContent,e.children[3].value=o.children[3].textContent,e.children[5].value=o.children[2].textContent,n(d,"none"),n(c,"block")}var e,o}))},handleUpdateTodoRequest:function(){document.addEventListener("click",(t=>{if("edit-todo-form-button"===t.target.className){const o=t.target.parentNode,c=o.parentNode;c.children[0];let i=document.querySelector(".active"),r=this.findMatchProj(i.classList[1]);r.editTodo(parseInt(c.classList[1]),o.children[1].value,o.children[3].value,o.children[5].value),n(o,"none"),e(s),d(r)}}))}}})();c.handleProjectChangeRequest(),c.handleNewProjectRequest(),c.handleAddProjectRequest(),c.handleNewTodoRequest(),c.handleAddTodoRequest(),c.handleEditTodoRequest(),c.handleUpdateTodoRequest()})();
//# sourceMappingURL=main.js.map